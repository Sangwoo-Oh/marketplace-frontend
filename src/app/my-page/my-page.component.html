<main>
    <app-header></app-header>
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <div *ngIf="this.user" class="flex space-x-20 items-start">
            <div class="w-1/4 bg-white shadow rounded-lg p-10 flex justify-center">
                <div>
                    <figure class="w-40 h-40 mb-10">
                        <img class="border-4 block w-full rounded-full" src="assets/placeholder-square.jpeg" alt="">
                    </figure>
                    <div class="text-xl text-center">{{this.user.username}}</div>
                </div>
            </div>
            <div class="w-3/4">
                <section class="mb-5">
                    <div class="text-2xl mb-5">Listed Items</div>
                    <ul *ngIf="this.listingItems.length > 0; else noItem" class="flex flex-wrap gap-5">
                        <li *ngFor='let item of this.listingItems'>
                            <a [routerLink]="['/itm', item._id]" class="relative">
                                <div [ngClass]="item.is_purchased?'absolute h-full w-full flex justify-center items-center':'hidden'">
                                    <span class="absolute z-10 text-white text-2xl -rotate-12">Sold out</span>
                                    <div class="h-full w-full bg-black opacity-50 rounded-lg"></div>
                                </div>
                                <div class="bg-white rounded-lg shadow p-3">
                                    <figure class="mb-3">
                                        <img class="w-40 h-auto" src="{{item.image_url}}" alt="">
                                    </figure>
                                    <div>{{item.name}}</div>
                                    <div>{{item.price}}</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </section>
                <section>
                    <div class="text-2xl mb-5">Purchased Items</div>
                    <ul *ngIf="this.purchasedItems.length > 0; else noItem" class="flex flex-wrap gap-5">
                        <li *ngFor='let item of this.purchasedItems'>
                            <a [routerLink]="['/itm', item._id]" class="relative">
                                <div [ngClass]="item.is_purchased?'absolute h-full w-full flex justify-center items-center':'hidden'">
                                    <span class="absolute z-10 text-white text-2xl -rotate-12">Sold out</span>
                                    <div class="h-full w-full bg-black opacity-50 rounded-lg"></div>
                                </div>
                                <div class="bg-white rounded-lg shadow p-3">
                                    <figure class="mb-3">
                                        <img class="w-40 h-auto" src="{{item.image_url}}" alt="">
                                    </figure>
                                    <div>{{item.name}}</div>
                                    <div>{{item.price}}</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </section>
                <ng-template #noItem>
                    <div>There is no item</div>
                </ng-template>
            </div>
        </div>
    </div>
</main>
